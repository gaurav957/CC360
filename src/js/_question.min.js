Vue.component("right-panel",{props:["rightData","progressData","leftData"],template:'<div class="right-panel-wrapper">\n  <div class="right-panel clearfix">\n    <progress-panel ref="prsPanel" :progress-data="progressData"></progress-panel>\n    <div class="survey-wrapper"> \n      <div class="scrollable">   \n      <div class="accordian-inner" v-for="(category,catIn) in rightData.categories">\n        <h2 class="accordion active" @click="openAccordion($event)" v-html=\'category.heading\'></h2>\n        <div class="accordion-panel" >\n          <div class="accordion-resize" >\n            <div v-for="(subCategory,subCatIn) in category.subCategories">\n            <div class="survey-title" v-if="subCategory.subHeading" v-html=\'subCategory.subHeading\'></div>\n            <div\n              v-for="(question, quesInd) in subCategory.questions"\n              class="question-resize"\n            >\n              <div class="survey-info">\n                <span class="survey-info-messg" v-html=\'question.quesText\'></span>\n                <div class="tooltip" v-if="question.quesDescription">\n                  <span class="custom-infoicon"></span\n                  ><span class="tooltiptext" v-html=\'question.quesDescription\'></span>\n                </div>\n              </div>\n              <div class="survey-type">\n                <div class="survey-row" :data-id="catIn+\'_\'+subCatIn+\'_\'+quesInd">\n                  <div\n                    class="s-col"\n                    v-for="(option, index) in question.options"\n                  >\n                    <div class="survey-card" :data_id="option.optionsId" \n                    :class="{selectedsurvey:question.selected==option.optionsId}" @click="handleAnswerSelect(option.optionsId,catIn,subCatIn, quesInd)">\n                      <div class="s-crad-header" v-html=\'rightData.ratingTxt[index]\'></div>\n                      <div class="s-crad-body" v-html=\'option.optionText\'></div>\n                    </div>\n                  </div>\n                </div>\n                <div class="col-3 ctrl-sm-chk">\n                  <div class="catg-selection">\n                      <div class="pure-radiobutton">\n                        <input :checked="question.selected == question.naId" :id="question.naId" :name="question.naId" type="radio" value="3" class="radio" />                               \n                        <label @click="handleAnswerSelect(question.naId,catIn,subCatIn, quesInd)" :for="question.naId" v-html="rightData.naText">Hello</label>\n                     </div>\n                  </div> \n               </div>\n                <div class="other-type-row">\n                  <div class="other-quest" v-html=\'rightData.cmntHeding\'></div>\n                  <div class="other-form">\n                    <input\n                      type="text"\n                      class="other-form-ctrl"\n                      :placeholder="rightData.cmntPlaceHolder"\n                      :value="question.detailVal"\n                      @input="handleKeyDown(question.detailId,$event)"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n            </div>\n          </div>\n\n          </div>\n\n        </div>\n      </div>\n      </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n            ',mounted:function(){this.setHeight(),window.addEventListener("resize",this.setHeight)},methods:{openAccordion:function(e){e.stopPropagation(),-1==e.target.className.split(" ").indexOf("active")?(e.target.className+=" active",e.target.nextElementSibling.style.maxHeight=e.target.nextElementSibling.scrollHeight+"px"):(e.target.className=e.target.className.replace(" active",""),e.target.nextElementSibling.style.maxHeight=null)},handleKeyDown:function(ques_id,e){document.getElementById(ques_id)&&(document.getElementById(ques_id).value=e.target.value)},handleAnswerSelect:function(dataId,catIn,subCatIn,quesInd){this.rightData.categories[catIn].subCategories[subCatIn].questions[quesInd].selected=dataId,document.getElementById(dataId)&&document.getElementById(dataId).click();let ttlAttempt=0;for(let category of this.rightData.categories)for(let subCat of category.subCategories)for(let question of subCat.questions)""!=question.selected&&ttlAttempt++;this.$parent.updateLeftQuestionAttempt(ttlAttempt),this.$refs.prsPanel.updateProgresbar(ttlAttempt)},setHeight:function(){var surRows=document.getElementsByClassName("survey-row");for(let surRow of surRows){var headHght=0,bodyHght=0;for(let rowChild of surRow.children){let srvyCard=rowChild.children[0];srvyCard.children[0].setAttribute("style","height:auto"),srvyCard.children[1].setAttribute("style","height:auto");let sCradHeaderHght=srvyCard.children[0].offsetHeight,sCradBodyHght=srvyCard.children[1].offsetHeight;headHght<sCradHeaderHght&&(headHght=sCradHeaderHght),bodyHght<sCradBodyHght&&(bodyHght=sCradBodyHght)}let rowHeaders=surRow.getElementsByClassName("s-crad-header"),rowBodies,rowHeadersArr,rowBodiesArr=[...surRow.getElementsByClassName("s-crad-body")];[...rowHeaders].map(el=>{el.setAttribute("style","height:"+headHght+"px")}),rowBodiesArr.map(el=>{el.setAttribute("style","height:"+bodyHght+"px")})}},enabDisSubmit:function(endis){this.$refs.prsPanel.enabDisSubmit(endis)}}}),Vue.component("progress-panel",{props:["progressData"],data:function(){return{submitStatus:!1}},template:"<div class='progress-panel'>\n    \n        <div class='progress-panel-inner'>\n            <div class='progress'>\n                <div class='perc-data'>\n                    <span v-html='progressData.answerTxt'>Answered</span>\n                    <span v-html='progressData.answrdQues'>1</span>\n                    <span v-html='progressData.of'>of</span>\n                    <span v-html='progressData.totalQues'>12</span>\n                    <span>(</span>\n                    <span v-html='progressData.percentge'>12</span>\n                    <span>%</span>\n                    <span>)</span>\n                </div>\n                <div class='progress-bar'>\n                    <div id=\"myProgress\">\n                        <div id=\"myBar\" :style=\"{ width: progressData.percentge+'%'}\"></div>\n                    </div>\n                </div>\n            </div>\n            <div class='btn-outer'>\n                    <div class='btn-item save' v-html='progressData.saveTxt' @click=nextPage(progressData.sveVal) >Save</div>\n                    <div class='btn-item submit' :class=\"this.submitStatus == false?'disable':''\" @click=\"this.submitStatus == false?'':nextPage(progressData.submitVal)\" v-html='progressData.submitTxt' >Submit</div>\n            </div>\n        </div>\n    \n    </div>",mounted:function(){document.querySelector("#ttl-attmpt").value=this.progressData.answrdQues,document.querySelector("#cur-prcntge").value=this.progressData.percentge},methods:{nextPage:function(forwardBtnVal){document.getElementById("navText").value=forwardBtnVal,document.getElementById("forwardbutton").click()},updateProgresbar:function(ttlAttempt){this.progressData.answrdQues=ttlAttempt;var percentage=parseInt(ttlAttempt/Number(this.progressData.totalQues)*100);this.progressData.percentge=percentage,document.querySelector("#ttl-attmpt").value=ttlAttempt,document.querySelector("#cur-prcntge").value=percentage},enabDisSubmit:function(endis){this.submitStatus="enable"==endis}}});